name: Claude CLI Example

on:
  workflow_dispatch:

jobs:
  run-claude:
    runs-on: ubuntu-latest

    steps:
      # 1. Checkout repo â€” this allows Claude CLI to read the code
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. Install Claude CLI
      - name: Install Claude CLI
        run: |
          curl -sSL https://install.anthropic.com | sh
          echo "export PATH=$HOME/.local/bin:$PATH" >> $GITHUB_ENV

      # 3. Authenticate with Claude API key (store key in GitHub Secrets)
      - name: Setup API Key
        run: echo "ANTHROPIC_API_KEY=${{ secrets.ANTHROPIC_API_KEY }}" >> $GITHUB_ENV

      # 4. Example: Ask Claude a question
      - name: Ask Claude
        run: claude "Summarize this repository." --files .
